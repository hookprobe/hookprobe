{% extends "public/base.html" %}
{% load static %}

{% block title %}GDPR Compliance - HookProbe{% endblock %}

{% block content %}

<div id="main" class="alt">
    <section id="banner" class="style2">
        <div class="inner">
            <header class="major">
                <h1>GDPR Compliance</h1>
            </header>
            <div class="content">
                <p>Your Data Rights Under the General Data Protection Regulation</p>
                <p>Last Updated: {% now "F d, Y" %}</p>
            </div>
        </div>
    </section>

    <section class="wrapper">
        <div class="inner">
            <p>HookProbe is committed to protecting your privacy and complying with the General Data Protection Regulation (GDPR). This page outlines your rights and how we handle your personal data.</p>

            <h2>Your Rights Under GDPR</h2>

            <div class="row">
                <div class="col-6 col-12-small">
                    <h3>Right to Access</h3>
                    <p>You have the right to request a copy of all personal data we hold about you. We will provide this in a structured, commonly used, and machine-readable format.</p>
                    <ul class="actions">
                        <li><a href="{% url 'cms:contact' %}" class="button small">Request Data Access</a></li>
                    </ul>
                </div>
                <div class="col-6 col-12-small">
                    <h3>Right to Rectification</h3>
                    <p>You have the right to correct any inaccurate or incomplete personal data we hold about you.</p>
                    <ul class="actions">
                        <li><a href="{% url 'cms:contact' %}" class="button small">Request Correction</a></li>
                    </ul>
                </div>
            </div>

            <div class="row">
                <div class="col-6 col-12-small">
                    <h3>Right to Erasure ("Right to be Forgotten")</h3>
                    <p>You have the right to request deletion of your personal data under certain circumstances.</p>
                    <ul class="actions">
                        <li><a href="{% url 'cms:contact' %}" class="button small">Request Deletion</a></li>
                    </ul>
                </div>
                <div class="col-6 col-12-small">
                    <h3>Right to Data Portability</h3>
                    <p>You have the right to receive your personal data in a portable format and transfer it to another service provider.</p>
                    <ul class="actions">
                        <li><a href="{% url 'cms:contact' %}" class="button small">Request Export</a></li>
                    </ul>
                </div>
            </div>

            <div class="row">
                <div class="col-6 col-12-small">
                    <h3>Right to Restrict Processing</h3>
                    <p>You have the right to request that we limit how we use your personal data under certain circumstances.</p>
                    <ul class="actions">
                        <li><a href="{% url 'cms:contact' %}" class="button small">Request Restriction</a></li>
                    </ul>
                </div>
                <div class="col-6 col-12-small">
                    <h3>Right to Object</h3>
                    <p>You have the right to object to processing of your personal data for direct marketing or legitimate interests.</p>
                    <ul class="actions">
                        <li><a href="{% url 'cms:contact' %}" class="button small">Object to Processing</a></li>
                    </ul>
                </div>
            </div>

            <hr class="major" />

            <h2>What Data We Collect</h2>

            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Data Type</th>
                            <th>Purpose</th>
                            <th>Legal Basis</th>
                            <th>Retention Period</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Account Information (Name, Email, Username)</td>
                            <td>Account creation and authentication</td>
                            <td>Consent / Contract</td>
                            <td>Until account deletion</td>
                        </tr>
                        <tr>
                            <td>Device IDs (Anonymized)</td>
                            <td>Device management and security monitoring</td>
                            <td>Legitimate Interest</td>
                            <td>90 days after device removal</td>
                        </tr>
                        <tr>
                            <td>IP Addresses (Anonymized)</td>
                            <td>Security, fraud prevention</td>
                            <td>Legitimate Interest</td>
                            <td>30 days</td>
                        </tr>
                        <tr>
                            <td>Usage Analytics (Anonymous)</td>
                            <td>Service improvement</td>
                            <td>Legitimate Interest</td>
                            <td>12 months</td>
                        </tr>
                        <tr>
                            <td>Contact Form Submissions</td>
                            <td>Communication and support</td>
                            <td>Consent</td>
                            <td>3 years</td>
                        </tr>
                        <tr>
                            <td>Newsletter Subscriptions</td>
                            <td>Marketing communications</td>
                            <td>Consent</td>
                            <td>Until unsubscribed</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr class="major" />

            <h2>How We Protect Your Data</h2>

            <ul class="alt">
                <li><strong>Encryption:</strong> All data is encrypted in transit (TLS 1.3) and at rest (AES-256)</li>
                <li><strong>Access Control:</strong> Strict role-based access control (RBAC) limits who can access your data</li>
                <li><strong>Anonymization:</strong> Personal identifiers (IPs, device IDs) are anonymized where possible</li>
                <li><strong>Regular Audits:</strong> We conduct regular security audits and vulnerability assessments</li>
                <li><strong>Data Minimization:</strong> We only collect data necessary for service functionality</li>
                <li><strong>Secure Infrastructure:</strong> Hosted on secure, GDPR-compliant infrastructure</li>
            </ul>

            <hr class="major" />

            <h2>Data Processing Locations</h2>

            <div class="box">
                <h3>Edge Deployments</h3>
                <p>For edge deployments, all your data stays <strong>on your premises</strong>. HookProbe processes data locally on your own hardware. We do not have access to your data.</p>
                <ul>
                    <li><span class="icon solid fa-home"></span> <strong>Location:</strong> Your edge device (on-premises)</li>
                    <li><span class="icon solid fa-lock"></span> <strong>Data Controller:</strong> You (the device owner)</li>
                    <li><span class="icon solid fa-shield-alt"></span> <strong>GDPR Compliance:</strong> Your responsibility</li>
                </ul>
            </div>

            <div class="box">
                <h3>Cloud Deployments (MSSP)</h3>
                <p>For cloud-managed deployments, data is processed on secure cloud infrastructure within the EU.</p>
                <ul>
                    <li><span class="icon solid fa-cloud"></span> <strong>Location:</strong> EU data centers (Germany, Netherlands)</li>
                    <li><span class="icon solid fa-user-shield"></span> <strong>Data Controller:</strong> HookProbe (joint controller with MSSP)</li>
                    <li><span class="icon solid fa-check"></span> <strong>GDPR Compliance:</strong> Fully compliant</li>
                </ul>
                <p><strong>Note:</strong> We use EU-based cloud providers with GDPR Data Processing Agreements (DPAs) in place.</p>
            </div>

            <hr class="major" />

            <h2>Data Sharing and Third Parties</h2>

            <p>We do <strong>NOT</strong> sell your personal data to third parties. We only share data with:</p>

            <ul>
                <li><strong>Service Providers:</strong> Cloud infrastructure, email services (with DPAs)</li>
                <li><strong>Legal Obligations:</strong> When required by law or legal process</li>
                <li><strong>Your Consent:</strong> When you explicitly authorize sharing</li>
            </ul>

            <h3>Third-Party Services (Cloud Deployments Only)</h3>
            <div class="table-wrapper">
                <table class="alt">
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Purpose</th>
                            <th>Location</th>
                            <th>GDPR Compliant</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>AWS / Google Cloud</td>
                            <td>Infrastructure hosting</td>
                            <td>EU (Frankfurt, Amsterdam)</td>
                            <td>✓ Yes (DPA in place)</td>
                        </tr>
                        <tr>
                            <td>SendGrid / Mailgun</td>
                            <td>Transactional emails</td>
                            <td>EU endpoints</td>
                            <td>✓ Yes (DPA in place)</td>
                        </tr>
                        <tr>
                            <td>Cloudflare</td>
                            <td>CDN and DDoS protection</td>
                            <td>Global (EU data residency)</td>
                            <td>✓ Yes (DPA in place)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <hr class="major" />

            <h2>Cookies and Tracking</h2>

            <p>HookProbe uses minimal cookies for essential functionality only:</p>

            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Cookie Name</th>
                            <th>Purpose</th>
                            <th>Type</th>
                            <th>Duration</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>sessionid</td>
                            <td>User authentication</td>
                            <td>Essential</td>
                            <td>Session (or 30 days if "Remember me")</td>
                        </tr>
                        <tr>
                            <td>csrftoken</td>
                            <td>Security (CSRF protection)</td>
                            <td>Essential</td>
                            <td>1 year</td>
                        </tr>
                        <tr>
                            <td>gdpr_consent</td>
                            <td>Store your cookie consent preferences</td>
                            <td>Essential</td>
                            <td>1 year</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <p><strong>No third-party tracking cookies</strong> (Google Analytics, Facebook Pixel, etc.) are used unless you explicitly consent.</p>

            <hr class="major" />

            <h2>Children's Privacy</h2>

            <p>HookProbe is not intended for children under 16. We do not knowingly collect personal data from children. If you believe we have collected data from a child, please contact us immediately at <a href="mailto:privacy@hookprobe.com">privacy@hookprobe.com</a>.</p>

            <hr class="major" />

            <h2>Automated Decision Making</h2>

            <p>HookProbe uses automated decision-making for:</p>

            <ul>
                <li><strong>Security Alerts:</strong> Automated threat detection and alert generation</li>
                <li><strong>Anomaly Detection:</strong> Machine learning for identifying suspicious behavior</li>
            </ul>

            <p>These automated decisions do <strong>NOT</strong> have legal effects on you. They are used for security monitoring only. You have the right to:</p>
            <ul>
                <li>Request human review of automated decisions</li>
                <li>Express your point of view</li>
                <li>Contest the decision</li>
            </ul>

            <hr class="major" />

            <h2>Data Breach Notification</h2>

            <p>In the event of a data breach affecting your personal data, we will:</p>

            <ol>
                <li>Notify you within <strong>72 hours</strong> of becoming aware of the breach</li>
                <li>Inform you of the nature of the breach and data affected</li>
                <li>Provide recommendations on how to protect yourself</li>
                <li>Notify relevant supervisory authorities as required by law</li>
            </ol>

            <hr class="major" />

            <h2>How to Exercise Your Rights</h2>

            <p>To exercise any of your GDPR rights, please contact us:</p>

            <div class="box">
                <ul class="alt">
                    <li><strong>Email:</strong> <a href="mailto:privacy@hookprobe.com">privacy@hookprobe.com</a> or <a href="mailto:dpo@hookprobe.com">dpo@hookprobe.com</a></li>
                    <li><strong>Subject Line:</strong> "GDPR Request - [Your Right]"</li>
                    <li><strong>Response Time:</strong> We will respond within 30 days</li>
                    <li><strong>Verification:</strong> We may ask for identity verification to protect your data</li>
                </ul>

                <h3>What to Include in Your Request</h3>
                <ul>
                    <li>Your full name and email address associated with your account</li>
                    <li>The specific right you wish to exercise</li>
                    <li>Any relevant details (e.g., specific data you want deleted)</li>
                    <li>Proof of identity (if requested)</li>
                </ul>
            </div>

            <hr class="major" />

            <h2>Supervisory Authority</h2>

            <p>If you believe we are not handling your data in compliance with GDPR, you have the right to lodge a complaint with your local supervisory authority:</p>

            <div class="box">
                <h3>EU Supervisory Authorities</h3>
                <p>Find your local data protection authority: <a href="https://edpb.europa.eu/about-edpb/board/members_en" target="_blank" rel="noopener">EDPB Member List</a></p>

                <h4>Example: Romanian Data Protection Authority (ANSPDCP)</h4>
                <ul class="alt">
                    <li><strong>Address:</strong> B-dul G-ral. Gheorghe Magheru 28-30, Sector 1, Bucharest, Romania</li>
                    <li><strong>Website:</strong> <a href="https://www.dataprotection.ro/" target="_blank" rel="noopener">www.dataprotection.ro</a></li>
                    <li><strong>Email:</strong> anspdcp@dataprotection.ro</li>
                </ul>
            </div>

            <hr class="major" />

            <h2>Updates to This Policy</h2>

            <p>We may update this GDPR compliance page to reflect changes in our practices or legal requirements. We will notify you of significant changes via:</p>

            <ul>
                <li>Email notification to registered users</li>
                <li>Prominent notice on our website</li>
                <li>In-app notification (for dashboard users)</li>
            </ul>

            <p><strong>Last Updated:</strong> {% now "F d, Y" %}</p>

            <hr class="major" />

            <div class="box">
                <h2>Open Source and Transparency</h2>
                <p>HookProbe is <strong>open source</strong> (MIT License). You can review our code to verify our data handling practices:</p>
                <ul class="actions">
                    <li><a href="https://github.com/abtom87/hookprobe" class="button primary icon brands fa-github" target="_blank" rel="noopener">View Source Code</a></li>
                </ul>
                <p>We believe in <strong>privacy by design</strong> and <strong>transparency by default</strong>.</p>
            </div>

            <hr class="major" />

            <h2>Contact Our Data Protection Officer (DPO)</h2>

            <div class="row">
                <div class="col-6 col-12-small">
                    <h3>General Inquiries</h3>
                    <ul class="alt">
                        <li><strong>Email:</strong> <a href="mailto:privacy@hookprobe.com">privacy@hookprobe.com</a></li>
                        <li><strong>DPO Email:</strong> <a href="mailto:dpo@hookprobe.com">dpo@hookprobe.com</a></li>
                    </ul>
                </div>
                <div class="col-6 col-12-small">
                    <h3>Quick Actions</h3>
                    <ul class="actions stacked">
                        <li><a href="{% url 'cms:contact' %}" class="button primary fit">Submit GDPR Request</a></li>
                        <li><a href="{% url 'cms:privacy_policy' %}" class="button fit">Privacy Policy</a></li>
                        <li><a href="{% url 'cms:terms_of_service' %}" class="button fit">Terms of Service</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </section>
</div>

{% endblock %}
