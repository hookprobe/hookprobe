# HookProbe Guardian - dnsmasq Configuration
# DHCP server for VLAN-segmented IoT networks
# Version: 5.0.0

# General settings
domain-needed
bogus-priv
no-resolv
no-poll

# Upstream DNS (can be customized)
server=1.1.1.1
server=8.8.8.8

# Listen on bridge interfaces
interface=br0
interface=br10
interface=br20
interface=br30
interface=br40
interface=br50
interface=br60
interface=br70
interface=br80
interface=br999

# Don't listen on upstream interface
except-interface=wlan1

# ============================================
# DHCP Ranges per VLAN
# ============================================

# Management VLAN 1 (br0)
dhcp-range=br0,192.168.1.100,192.168.1.200,255.255.255.0,24h
dhcp-option=br0,3,192.168.1.1

# VLAN 10 - Smart Lights
dhcp-range=br10,192.168.10.100,192.168.10.200,255.255.255.0,24h
dhcp-option=br10,3,192.168.10.1

# VLAN 20 - Thermostats
dhcp-range=br20,192.168.20.100,192.168.20.200,255.255.255.0,24h
dhcp-option=br20,3,192.168.20.1

# VLAN 30 - Cameras
dhcp-range=br30,192.168.30.100,192.168.30.200,255.255.255.0,24h
dhcp-option=br30,3,192.168.30.1

# VLAN 40 - Voice Assistants
dhcp-range=br40,192.168.40.100,192.168.40.200,255.255.255.0,24h
dhcp-option=br40,3,192.168.40.1

# VLAN 50 - Appliances
dhcp-range=br50,192.168.50.100,192.168.50.200,255.255.255.0,24h
dhcp-option=br50,3,192.168.50.1

# VLAN 60 - Entertainment
dhcp-range=br60,192.168.60.100,192.168.60.200,255.255.255.0,24h
dhcp-option=br60,3,192.168.60.1

# VLAN 70 - Robots
dhcp-range=br70,192.168.70.100,192.168.70.200,255.255.255.0,24h
dhcp-option=br70,3,192.168.70.1

# VLAN 80 - Sensors
dhcp-range=br80,192.168.80.100,192.168.80.200,255.255.255.0,24h
dhcp-option=br80,3,192.168.80.1

# VLAN 999 - Quarantine (unknown devices)
dhcp-range=br999,192.168.99.100,192.168.99.200,255.255.255.0,1h
dhcp-option=br999,3,192.168.99.1
# Short lease for quarantine - devices should be registered

# ============================================
# Logging
# ============================================
log-queries
log-dhcp
log-facility=/var/log/dnsmasq.log
